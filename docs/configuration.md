# 設定ガイド (`config.toml`)

PaperFetchは、`config.toml` ファイルを使用してデフォルトの動作をカスタマイズできます。

## 設定ファイルの作成

以下のコマンドを実行すると、対話形式で主要な設定項目を入力し、`config.toml` を生成できます。

```bash
paper-fetch --init-config
```

## 設定項目一覧

以下は `config.toml` で設定可能な主要カテゴリと項目です。

### `[search]`
検索動作に関するデフォルト設定です。

- `default_source`: デフォルトの検索ソース (例: `"arxiv"`, `"ieee"`)
- `default_limit`: 一度の検索で取得する最大件数
- `default_download_limit`: 一度のダウンロードで取得する最大件数

### `[output]`
ファイル保存や変換に関する設定です。

- `base_dir`: ダウンロードしたファイルを保存する親ディレクトリ (デフォルト: `"downloads"`)
- `convert_to_markdown`: ダウンロード後にMarkdown変換を自動で行うか (`true`/`false`)

### `[fetcher]`
各ソースへのアクセス制御、特にレート制限（Wait Time）の設定です。
スクレイピング検知を回避するために、ランダムな待機時間（Jitter）を設定できます。

- `min_wait`: 最小待機時間（秒）
- `max_wait`: 最大待機時間（秒）

### `[api]`
APIキーが必要なサービスの設定です。現状は実験的な機能（USPTOなど）で使用されます。

- `uspto_api_key`: PatentsView APIキー

## 設定の優先順位

設定は以下の順序で読み込まれ、後の方にあるものが優先されます（上書きされます）。

1. **デフォルト値**: ソースコードに組み込まれた初期値
2. **`config.toml`**: ユーザーが作成した設定ファイル
3. **環境変数**: （特定の項目のみ対応している場合があります）
4. **CLI引数 / GUI設定**: 実行時に指定したパラメータ（最優先）
